(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{613:function(e,t,n){"use strict";n.r(t);var o=n(37),r=(n(13),n(67),n(36),n(5),n(42),n(44),n(581),n(301),n(115),{props:["isOpen","items","isAdd"],watch:{items:function(){this.events=this.items,this.img_holder=this.items.image}},data:function(){return{room_list:["Standard","Deluxe","Suite"],events:[],category:[],buttonLoad:!1,img_holder:"image_placeholder.png"}},methods:{categoryGetall:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$axios.get("/category/",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){console.log(t.data),e.category=t.data,e.isLoading=!1}));case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},addEvents:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.buttonLoad=!0,t.prev=1,n=new FormData,null!=e.image&&""!=e.image&&n.append("image",e.image),n.append("tattoo_name",e.events.tattoo_name),n.append("category",e.events.category),n.append("colored",e.events.colored),n.append("price",e.events.price),n.append("description",e.events.description),n.append("time_estimation",e.events.time_estimation),n.append("user_id",localStorage.getItem("id")),!e.isAdd){t.next=18;break}return n.append("status","Pending"),t.next=15,e.$axios.post("/tattoo/",n,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(){e.$refs.form.reset(),e.buttonLoad=!1,e.$emit("cancel"),e.$refs.form.reset(),e.$emit("refresh")}));case 15:t.sent,t.next=21;break;case 18:return t.next=20,e.$axios.patch("/tattoo/".concat(e.events.id,"/"),n,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(){e.buttonLoad=!1,e.$emit("cancel"),e.$refs.form.reset(),e.$emit("refresh")}));case 20:t.sent;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(1),e.buttonLoad=!1;case 26:case"end":return t.stop()}}),t,null,[[1,23]])})))()},onFileUpload:function(e){if(this.image=e,(e=e.target.files[0]).name.length>100)alert("255 characters exceeded filename.");else{try{if(e.size>16e6)return void alert("Only 15mb file can be accepted.")}catch(e){return void alert(e)}this.image=e,null==e||(this.url,this.img_holder=URL.createObjectURL(e))}},cancel:function(){this.$emit("cancel")}},created:function(){this.categoryGetall()}}),c=n(95),l=n(137),d=n.n(l),v=n(224),m=n(209),f=n(175),_=n(440),h=n(441),x=n(586),k=n(208),$=n(671),y=n(620),C=n(445),w=n(712),V=n(616),L=n(674),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form"},[n("v-dialog",{attrs:{width:"1000",persistent:""},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",{staticClass:"pa-10"},[n("div",{staticClass:"text-h6",attrs:{align:"center"}},[e._v("New Design")]),e._v(" "),n("v-col",{staticClass:"px-0",attrs:{cols:"12"}},[n("div",[e._v("Tattoo Name")]),e._v(" "),n("div",[n("v-text-field",{attrs:{outlined:""},model:{value:e.events.tattoo_name,callback:function(t){e.$set(e.events,"tattoo_name",t)},expression:"events.tattoo_name"}})],1)]),e._v(" "),n("v-col",{staticClass:"px-0",attrs:{cols:"12"}},[n("div",[e._v("Category")]),e._v(" "),n("div",[n("v-select",{attrs:{outlined:"",items:e.category,"item-text":"category_name","item-value":"category_name"},model:{value:e.events.category,callback:function(t){e.$set(e.events,"category",t)},expression:"events.category"}})],1)]),e._v(" "),n("v-col",{staticClass:"px-0",attrs:{cols:"12"}},[n("div",[e._v("Estimated Time(Minutes)")]),e._v(" "),n("div",[n("v-text-field",{attrs:{outlined:""},model:{value:e.events.time_estimation,callback:function(t){e.$set(e.events,"time_estimation",t)},expression:"events.time_estimation"}})],1)]),e._v(" "),n("v-col",{staticClass:"px-0",attrs:{cols:"12"}},[n("div",[e._v("Description")]),e._v(" "),n("div",[n("v-textarea",{attrs:{outlined:""},model:{value:e.events.description,callback:function(t){e.$set(e.events,"description",t)},expression:"events.description"}})],1)]),e._v(" "),n("v-col",{staticClass:"px-0",attrs:{cols:"12"}},[n("div",[e._v("Price")]),e._v(" "),n("div",[n("v-text-field",{attrs:{outlined:""},model:{value:e.events.price,callback:function(t){e.$set(e.events,"price",t)},expression:"events.price"}})],1)]),e._v(" "),n("v-col",{staticClass:"px-0",attrs:{cols:"12"}},[n("v-radio-group",{model:{value:e.events.colored,callback:function(t){e.$set(e.events,"colored",t)},expression:"events.colored"}},[n("v-radio",{attrs:{label:"Colored",value:"Colored"}}),e._v(" "),n("v-radio",{attrs:{label:"Black",value:"Black"}})],1)],1),e._v(" "),n("v-col",[n("span",{staticClass:"pt-2 pr-10 pb-10"},[n("b",[e._v("Upload Image"),n("v-icon",{on:{click:function(t){return e.$refs.file.click()}}},[e._v("mdi-plus")])],1)]),e._v(" "),n("div",{staticClass:"hover_pointer pt-10"},[n("img",{staticClass:"mb-0",attrs:{src:e.img_holder,alt:"item_.js",height:"150",width:"150"},on:{click:function(t){return e.$refs.file.click()}}})])]),e._v(" "),n("v-col",{staticClass:"d-none"},[n("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"fileInput",accept:"image/png, image/jpeg"},on:{change:e.onFileUpload}})]),e._v(" "),n("v-card-actions",[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{align:"end"}},[n("v-btn",{attrs:{color:"red",text:""},on:{click:e.cancel}},[e._v(" Cancel ")])],1),e._v(" "),n("v-col",[n("v-btn",{attrs:{color:"success",text:"",loading:e.buttonLoad},on:{click:e.addEvents}},[e._v("\n              Save\n            ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VBtn:v.a,VCard:m.a,VCardActions:f.a,VCol:_.a,VDialog:h.a,VForm:x.a,VIcon:k.a,VRadio:$.a,VRadioGroup:y.a,VRow:C.a,VSelect:w.a,VTextField:V.a,VTextarea:L.a})}}]);